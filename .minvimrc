" ====================================
" Plugins
" ====================================

" Setup dein for plugin management. If it's not installed, install it.

if (!isdirectory(expand('$HOME/.vim/repos/github.com/Shougo/dein.vim')))
  call system(expand('mkdir -p $HOME/.vim/repos/github.com'))
  call system(expand('git clone https://github.com/Shougo/dein.vim $HOME/.vim/repos/github.com/Shougo/dein.vim'))
endif


set nocompatible
set runtimepath+=~/.vim/repos/github.com/Shougo/dein.vim/

call dein#begin(expand('~/.vim'))
call dein#add('Shougo/dein.vim')

" General vim good stuff
call dein#add('tpope/vim-sensible')
call dein#add('tpope/vim-sleuth')



if dein#check_install()
  call dein#install()
endif
call dein#end()


" ====================================
" System settings
" ====================================
set hidden

" ====================================
" Key mappings
" ====================================

map ; :
let mapleader=","
inoremap ;; <Esc>

set nowrap linebreak nolist
set conceallevel=0
set lazyredraw
set colorcolumn=100

" open new split panes to right and below (as you probably expect)
set splitright
set splitbelow

" Use OSX clipboard and don't auto indent on paste
set clipboard=unnamed
set nopaste

" Turn off swap files
set noswapfile
set nobackup
set nowb

" Keep undo history across sessions, by storing in file.
silent !mkdir ~/.vim/backup > /dev/null 2>&1
set undodir=~/.vim/backups
set undofile

"Disable ex mode mapping
map Q <Nop>

"Disable macros
map q <Nop>
" toggle line numbers
nnoremap <silent> <leader>n :set number! number?<CR>

" toggle mouse mode
function! ToggleMouse()
    " check if mouse is enabled
    if &mouse == 'a'
        " disable mouse
        set mouse=
    else
        " enable mouse everywhere
        set mouse=a
    endif
endfunc
nnoremap <leader>m :call ToggleMouse()<CR>

" some basic key maps for faster mashing around
nnoremap J 5j
nnoremap K 5k
nnoremap H 5h
nnoremap L 5l
